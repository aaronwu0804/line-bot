# 如何與花生 AI 小幫手對話 🥜

## 📱 透過 LINE 與花生對話（推薦方式）

### 🎯 呼叫花生的方式

使用以下**任一前綴**來呼叫花生：

```
AI: 你的問題
@AI 你的問題
小幫手，你的問題
花生，你的問題
```

### 💬 範例對話

#### 1️⃣ 待辦事項管理

```
你：花生，我明天要開會
花生：✅ 已新增待辦事項：
     我明天要開會
     截止日期：2026-02-25

你：提醒我買菜
花生：✅ 已新增待辦事項：
     提醒我買菜

你：查看待辦
花生：📋 您的待辦事項：
     ⏳ 待完成：
     1. 我明天要開會 (截止：明天)
     2. 提醒我買菜

你：開會完成了
花生：✅ 已標記完成：開會
     共更新 1 個待辦事項

你：花生 所有待辦事項已完成
花生：✅ 已完成所有待辦事項！
     共完成 2 個待辦
```

#### 2️⃣ 內容分類儲存

```
你：AI: 今天突然理解了慢即是快的道理
花生：✅ 已儲存到 💡 靈感
     內容：今天突然理解了慢即是快的道理

你：小幫手，學習了 Python 的 asyncio 用法
花生：✅ 已儲存到 📚 知識
     內容：學習了 Python 的 asyncio 用法

你：@AI 在 solo 陶喆的蝴蝶
花生：✅ 已儲存到 🎵 音樂
     內容：在 solo 陶喆的蝴蝶
```

#### 3️⃣ 連結分析

```
你：花生，https://techblog.lycorp.co.jp/zh-hant/Boo-Boo-LINE-AI-Assistant
花生：🔗 連結分析結果：
     📌 網址：https://techblog.lycorp.co.jp/...
     
     【網頁標題】
     Booboo 小幽 —— 打造你的第二個大腦
     
     【主要內容摘要】
     本文介紹如何建立一個真正懂你的 LINE AI 智慧助理...
     
     【關鍵要點】
     1. 使用 Mem0 進行長期記憶管理
     2. 意圖分類系統設計
     3. Gemini API 連結分析工具
```

#### 4️⃣ 一般對話與查詢

```
你：AI: 推薦一些好書給我
花生：🤔 讓我想想...
     
     根據我的記憶：
     - 你之前提到學習了 Python
     
     我推薦以下書籍...
```

#### 5️⃣ 查看使用說明

```
你：使用說明
（或：花生說明、help、幫助、功能）

花生：👋 歡迎使用花生 AI 小幫手！
     
     我現在擁有更多智能功能：
     
     📋 待辦事項管理...
     💾 內容分類儲存...
     🔗 連結分析...
     🧠 長期記憶...
     ...
```

---

## 🚀 啟動花生 Bot

### 方法一：本地測試

1. **啟動服務**
   ```bash
   cd /Users/al02451008/Documents/code/morning-post
   source /Users/al02451008/Documents/code/.venv/bin/activate
   python app.py
   ```

2. **開啟 ngrok（另一個終端機）**
   ```bash
   cd /Users/al02451008/Documents/code/morning-post
   ./osx_ngrok.sh
   ```

3. **設定 LINE Webhook**
   - 複製 ngrok 提供的 URL（例如：`https://xxxx.ngrok.io`）
   - 到 [LINE Developers Console](https://developers.line.biz/console/)
   - 設定 Webhook URL：`https://xxxx.ngrok.io/callback`

4. **開始對話**
   - 在 LINE 中找到你的 Bot
   - 發送訊息：`花生，你好`

### 方法二：Render 部署（已部署）

你的 Bot 已部署在 Render：
- URL: https://line-bot-python-flask-pulo.onrender.com
- Webhook 已設定完成

**只需要重新部署更新：**
```bash
cd /Users/al02451008/Documents/code/morning-post
git add .
git commit -m "整合花生助手新功能"
git push
```

Render 會自動重新部署，幾分鐘後即可使用新功能！

---

## 🧪 快速測試（不需要 LINE）

如果只是想測試功能，執行測試腳本：

```bash
cd /Users/al02451008/Documents/code/morning-post
source /Users/al02451008/Documents/code/.venv/bin/activate
python test_peanut_features.py
```

這會測試所有新功能並顯示結果。

---

## 📝 可用的指令

### 待辦事項
- `我明天要開會` - 新增待辦
- `提醒我買菜` - 新增待辦
- `查看待辦` - 查詢待辦事項
- `開會完成了` - 標記完成
- `明天的會議取消了` - 刪除待辦
- `所有待辦事項已完成` - 批量完成所有待辦 ⭐️
- `清空待辦` - 批量完成所有待辦 ⭐️
- `刪除所有待辦` - 批量刪除所有待辦 ⭐️

### 內容儲存
- 分享任何想法，花生會自動分類：
  - 💡 靈感
  - 📚 知識
  - 💭 記憶
  - 🎵 音樂
  - 🎯 活動

### 連結分析
- 直接傳送任何網址，花生會自動分析內容

### 一般對話
- `推薦一些書` - 請求推薦
- `給我一些建議` - 請求建議
- `我之前聊過什麼？` - 查詢記憶

### 特殊指令
- `使用說明` / `help` - 顯示完整指南
- `結束對話` - 結束當前對話

---

## 🎨 其他功能（原有功能保留）

### 圖片生成
```
你：生成圖片 一隻可愛的貓咪在玩毛線球
花生：🎨 正在為您生成圖片...
     （約10-15秒後）
     ✅ 圖片生成成功！
     [顯示圖片]
```

### 每日單字
```
你：每日單字
花生：📖 今日單字
     
     單字：serendipity
     音標：/ˌserənˈdɪpəti/
     詞性：名詞
     中文：意外發現珍奇事物的能力
     ...
```

---

## 🔄 連續對話

開始對話後，可以**直接提問**，不需要再加「花生」或「AI:」等前綴：

```
你：花生，你好
花生：你好！有什麼我可以幫助你的嗎？

你：推薦一些書給我
（不需要再加「花生」）
花生：當然！根據你的興趣...

你：謝謝
花生：不客氣！如果還有其他需要，隨時告訴我！

你：結束對話
花生：好的，已結束本次對話。有需要時請隨時呼喚我！
```

---

## ❓ 常見問題

### Q: 花生沒有回應？
A: 檢查：
1. Bot 是否正在運行？
2. Webhook URL 設定是否正確？
3. 訊息是否包含呼叫前綴（AI:、花生等）？

### Q: 如何知道花生是否理解我的意圖？
A: 花生會根據你的訊息自動判斷意圖：
- 待辦事項會顯示 ✅
- 內容儲存會顯示對應圖示（💡📚💭🎵🎯）
- 連結分析會顯示 🔗
- 一般對話會直接回應

### Q: 資料儲存在哪裡？
A: 所有資料儲存在 `.cache/` 目錄：
- 記憶：`.cache/memories/`
- 待辦事項：`.cache/todos/`
- 內容：`.cache/contents/`
- 連結：`.cache/links/`

### Q: 如何清除資料？
A: 刪除對應的資料檔案即可。

---

## 📚 詳細文檔

更多資訊請參考：
- **[PEANUT_FEATURES_GUIDE.md](PEANUT_FEATURES_GUIDE.md)** - 完整功能說明
- **[UPGRADE_SUMMARY.md](UPGRADE_SUMMARY.md)** - 升級總結
- **[integration_example.py](integration_example.py)** - 整合範例

---

## 🌟 開始使用

**最簡單的方式：**

1. 確認服務正在運行（本地或 Render）
2. 在 LINE 中與你的 Bot 對話
3. 發送：`花生，你好`
4. 開始體驗新功能！

**祝您使用愉快！** 🎊
